# Документация проекта — чат-бот клиники ЦЭСИ

Навигация по документации проекта.

---

## Основные документы

### [`roadmap.md`](roadmap.md)
Общий план развития проекта с этапами и приоритетами. Начните отсюда, чтобы понять структуру проекта.

### [`backlog.md`](backlog.md)
Детальный список задач с приоритетами, связями с файлами и зависимостями. Используется для планирования разработки.

### [`cta.md`](cta.md) ⭐
**Основной документ по архитектуре CTA.** Зафиксирован гибридный подход: GPT анализирует диалог и рекомендует CTA, фронтенд проверяет бизнес-правила и принимает финальное решение.

---

## Документы по логике и поведению

### [`logic.md`](logic.md)
Логика диалога, поведения и UX чат-бота. Описывает принципы работы бота, приоритеты услуг, тон общения, работу с чувствительными темами.

### [`prompt.md`](prompt.md)
Системный промпт для Flowise. Определяет роль бота, стиль общения, приоритеты услуг, логику ведения диалога.

### [`rules.md`](rules.md)
Строгие правила для разработчика/бота. Медицинские ограничения, работа с базой знаний, ограничение диалога, обработка флуда.

---

## Техническая документация

### [`tech.md`](tech.md)
Текущее техническое состояние: архитектура, инфраструктура (VPS, Docker, Flowise, nginx), домены, фронтенд виджета.

### [`plan.md`](plan.md)
Текущее состояние проекта: что есть, что готово для MVP, чего нет совсем.

---

## Структура документации

```
info/
├── README.md          ← Вы здесь
├── roadmap.md         ← План этапов
├── backlog.md         ← Детальные задачи
├── cta.md             ← Архитектура CTA (основной)
├── logic.md           ← Логика диалога
├── prompt.md          ← Системный промпт
├── rules.md           ← Строгие правила
├── tech.md            ← Техническая архитектура
└── plan.md            ← Текущее состояние
```

---

## Быстрый старт

1. **Понять архитектуру:** [`roadmap.md`](roadmap.md) → [`cta.md`](cta.md)
2. **Посмотреть задачи:** [`backlog.md`](backlog.md)
3. **Изучить логику:** [`logic.md`](logic.md) → [`prompt.md`](prompt.md) → [`rules.md`](rules.md)
4. **Разобраться в технике:** [`tech.md`](tech.md)

---

## Ключевые принципы проекта

- **Гибридный подход CTA:** GPT анализирует диалог и рекомендует тип CTA, фронт проверяет бизнес-правила и принимает финальное решение (см. [`cta.md`](cta.md))
- **CTA ≠ форма:** CTA — это предложение следующего шага, форма — отдельный режим интерфейса
- **Типы CTA:** `soft_help`, `info_step`, `contact`, `booking`, `handoff` — разные предложения для разных стадий диалога
- **Отложенное решение:** CTA не "сейчас или никогда" — рекомендации GPT могут быть сохранены и использованы позже
- **Архитектура "на вырост":** не MVP-костыли, а масштабируемая система
- **Приоритет конверсии:** расход токенов допустим, если повышает конверсию
- **ЦА — дорогие клиники:** где 5–10 тыс ₽ на токены = шум

---

**Последнее обновление:** синхронизировано с финальной архитектурой CTA из `cta.md`  
Добавлены типы CTA, разделение CTA/форма, логика отложенного CTA, уточнение confidence, форма представления CTA (диалоговый vs интерфейсный) с учётом эмоционального состояния пользователя.  
**Важно:** Backlog разделён на P0 (минимальный MVP) и P1 (расширенная функциональность) для безопасной поэтапной реализации.

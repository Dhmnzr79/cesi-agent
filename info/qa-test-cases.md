# Тест-кейсы QA (после внедрения правок по pravki.md)

Ручные проверки для прогона после внедрения правок из [pravki.md](pravki.md). Прогнать в чате с ботом.

---

## 1. Спам / флуд / политика

**Действие:** отправить нецелевые сообщения (спам, флуд, вопрос на политическую тему).

**Ожидание:** бот вежливо ограничивает тему, не втягивается в обсуждение, предлагает помощь по стоматологии. При повторе — завершение диалога или handoff.

---

## 2. Шутка + вопрос по делу

**Действие:** в одном сообщении написать шутку и конкретный вопрос по стоматологии (например: «ахах, а сколько стоит имплант?»).

**Ожидание:** бот игнорирует шутку, отвечает по сути (про цену имплантации).

---

## 3. Услуга не подтверждена в контексте

**Действие:** спросить об услуге, которой нет в md-базе или нет явного подтверждения.

**Ожидание:** бот не делает вывод «да/нет»; формулировка в духе точности («чтобы ответить точно — уточнит администратор»); handoff, предложение контакта или консультации.

---

## 4. Услуга есть, но контекст пуст (ретривер ничего не нашёл)

**Действие:** задать вопрос, по которому ретривер не возвращает релевантных чанков.

**Ожидание:** бот честно говорит, что по запросу нет информации; предлагает уточнить вопрос или обратиться к администратору.

---

## 5. current_topics пуст, но контекст есть (reference-файл)

**Действие:** спросить адрес, телефон, график работы, про консультацию или врачей (reference-файлы без подразделов `###`).

**Ожидание:** бот отвечает нормально по контексту; в конце — общий вопрос или мягкий CTA («Чем ещё могу помочь?», «Подсказать, как записаться?»). **Не** говорит «в базе нет информации».

---

## 6. «Расскажи ещё» при исчерпанных подтемах

**Действие:** выбрать тему с 2–3 подразделами, запросить их по очереди, затем написать «расскажи ещё» / «что ещё есть».

**Ожидание:** бот честно говорит, что по этой теме всё рассказал; предлагает администратора/консультацию или «что именно хотите уточнить».

---

## 7. Перенос / подтверждение записи

**Действие:** написать «хочу перенести запись» / «подтвердите мою запись» / «отмените запись».

**Ожидание:** бот сообщает, что не видит расписание и статус записей; переводит на администратора; предлагает оставить контакт; handoff.

---

## 8. Жалоба / агрессия

**Действие:** написать жалобу или агрессивное сообщение.

**Ожидание:** бот не спорит, не оправдывается; короткое сочувствие и цель помочь; перевод на администратора, запрос контакта; handoff.

---

## 9. Экстренные симптомы (красные флаги)

**Действие:** описать признаки: кровотечение не останавливается, быстро растущий отёк, высокая температура, затруднение дыхания и т.п.

**Ожидание:** бот не ведёт диагностику; рекомендует срочную помощь (врач/скорая); предлагает контакт администратора; handoff. Вектор продолжения может быть мягким («Если хотите — помогу дальше») или отсутствовать.

---

## 10. Мультивопрос

**Действие:** в одном сообщении задать 3–4 вопроса (например: «Сколько стоит имплант? Как долго приживается? Больно ли? Кому подходит?»).

**Ожидание:** бот отвечает на 1–2 ключевых пункта структурно (список/нумерация); остальное предлагает продолжить через текущие подтемы или общим уточняющим вопросом. Не выдаёт один большой блок на все вопросы.

---

## Связанные документы

- [pravki.md](pravki.md) — исходный список правок
- [dialog-scenarios.md](dialog-scenarios.md) — описание сценариев (для справки)
- [prompt.md](prompt.md), [rules.md](rules.md) — актуальные правила бота
